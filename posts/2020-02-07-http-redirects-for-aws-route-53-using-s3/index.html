<!DOCTYPE html>
<html lang="en-GB">

    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author"
    content="Stuart McColl ">
<meta name="description"
    content="I moved hosting of my domains recently from tsoHost to Amazon Web Services, as uptime on tsoHost seems to have been slowly getting worse. Rather than using disparate providers for different services, I chose AWS to sit everything under one provider.
Shifting to AWS itself was relatively easy - I&amp;rsquo;m now using Amazon WorkMail for my email service and Amazon Route 53 for DNS. The documentation for switching to both from another provider was straight forward and I was up and running within a few days." />
<meta name="keywords" content="homepage, blog, development, programming" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://stuartmccoll.github.io/posts/2020-02-07-http-redirects-for-aws-route-53-using-s3/" />
<title>
    HTTP/S Redirects for AWS Route 53 Using S3 :: Stuart McColl 
</title>
<link rel="stylesheet" href="/main.min.47950748411c0ef3c7ae5e73073e0d5dfe7c26792aa521a159b90d6ba5bf68e2.css"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#252627">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="theme-color" content="#252627"><meta itemprop="name" content="HTTP/S Redirects for AWS Route 53 Using S3">
<meta itemprop="description" content="I moved hosting of my domains recently from tsoHost to Amazon Web Services, as uptime on tsoHost seems to have been slowly getting worse. Rather than using disparate providers for different services, I chose AWS to sit everything under one provider.
Shifting to AWS itself was relatively easy - I&rsquo;m now using Amazon WorkMail for my email service and Amazon Route 53 for DNS. The documentation for switching to both from another provider was straight forward and I was up and running within a few days.">
<meta itemprop="datePublished" content="2020-02-07T20:45:35+00:00" />
<meta itemprop="dateModified" content="2020-02-07T20:45:35+00:00" />
<meta itemprop="wordCount" content="386">
<meta itemprop="image" content="https://stuartmccoll.github.io"/>



<meta itemprop="keywords" content="software development,devops,aws,route53,s3," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://stuartmccoll.github.io"/>

<meta name="twitter:title" content="HTTP/S Redirects for AWS Route 53 Using S3"/>
<meta name="twitter:description" content="I moved hosting of my domains recently from tsoHost to Amazon Web Services, as uptime on tsoHost seems to have been slowly getting worse. Rather than using disparate providers for different services, I chose AWS to sit everything under one provider.
Shifting to AWS itself was relatively easy - I&rsquo;m now using Amazon WorkMail for my email service and Amazon Route 53 for DNS. The documentation for switching to both from another provider was straight forward and I was up and running within a few days."/>

<meta property="article:published_time" content="2020-02-07 20:45:35 &#43;0000 UTC" />
    </head>

    <body>
        <div class="container">
            <header>
    <section>
        <h1 class="site-heading">Stuart McColl</h1>
        <nav>
            <ul>
                <li><a href="/">Blog</a></li>
                <li><a href="/about">About</a></li>
            </ul>
        </nav>
    </section>
</header>

<hr />

            <div class="content">
                
<main class="post">

    <article>
        <header>
            <h1 class="post-title">HTTP/S Redirects for AWS Route 53 Using S3</h1>
            <p class="post-date">February 7, 2020</p>
        </header>

        <hr class="post-rule" />

        <div class="post-content">
            <p>I moved hosting of my domains recently from <a href="https://www.tsohost.com">tsoHost</a> to <a href="https://aws.amazon.com">Amazon Web Services</a>, as uptime on tsoHost seems to have been slowly getting worse. Rather than using disparate providers for different services, I chose AWS to sit everything under one provider.</p>
<p>Shifting to AWS itself was relatively easy - I&rsquo;m now using <a href="https://aws.amazon.com/workmail/">Amazon WorkMail</a> for my email service and <a href="https://aws.amazon.com/route53/">Amazon Route 53</a> for DNS. The documentation for switching to both from another provider was straight forward and I was up and running within a few days.</p>
<p>Out of the box, Route 53 doesn&rsquo;t provide the ability to redirect to sites hosted outside of AWS. It&rsquo;s achievable with the use of another Amazon service, S3 (Simple Storage Bucket).</p>
<h2 id="guide">Guide</h2>
<p>Create a new S3 bucket in the <a href="https://console.aws.amazon.com/s3/">Amazon S3 console</a>. Give it a name which matches your domain - <code>example.com</code>. Keep all of the default settings.</p>
<p>Once created, enter the &lsquo;Properties&rsquo; section of the bucket, and select &lsquo;Static Website Hosting&rsquo;. In here, select &lsquo;Redirect all request to another host name&rsquo;, which will provide you with two input fields to fill in. Add the domain to redirect to in the first, let&rsquo;s assume it&rsquo;s <code>https://www.example.net</code>, and enter one of <code>http</code> or <code>https</code> in the second, before saving.</p>
<p>In the <a href="https://console.aws.amazon.com/route53/">Route 53 console</a>, choose your matching hosted zone - in this case it&rsquo;d be <code>example.com</code>.</p>
<p>In here, create a new resource record (by clicking &lsquo;Create Record Set&rsquo;). Select a &lsquo;Record type&rsquo; of &lsquo;A - IPv4 address&rsquo;. Select the &lsquo;Alias&rsquo; option, and within &lsquo;Alias Target&rsquo;, you&rsquo;ll be provided with a list of your AWS resources which you can redirect to. Your S3 bucket will be listed under a heading of &lsquo;S3 Website Endpoints&rsquo;. Leave &lsquo;Routing Policy&rsquo; as &lsquo;Simple&rsquo; and &lsquo;Evaluate Health Target&rsquo; as &lsquo;No&rsquo;, then click &lsquo;Create&rsquo; to create the record.</p>
<p>The change might take a little bit of time to propogate. It was instant for me. You can test this by running <code>curl --head example.com</code>. This returned the following headers for my request <code>HTTP/1.1 301 Moved Permanently</code>, <code>Server: AmazonS3</code>, and <code>Location: https://www.example.net/</code>, confirming that the change had propogated.</p>
<p>To ensure redirects for both <code>example.com</code> and <code>www.example.com</code>, you&rsquo;ll want to follow the same process as above, this time creating an S3 bucket with a name of <code>www.example.com</code> and pointing another new record set for your domain at this second S3 bucket.</p>

        </div>
    </article>

</main>

            </div>

            

            <hr />

            <footer>
    
    
    
    <section>
        <h3>Share this content</h3>
        <p>
            <a
                href="https://twitter.com/intent/tweet?url=https://stuartmccoll.github.io%2fposts%2f2020-02-07-http-redirects-for-aws-route-53-using-s3%2f&via=itstuartmccoll&text=I%27m%20reading">
                Tweet this blog post
            </a>
        </p>
    </section>
    <hr />
    
    
    
    <section>
        <h3>More</h3>
        <ul>
            
            <li>
                <a
                    href="https://twitter.com/intent/tweet?text=%40itstuartmccoll%20Hello%2C%20%3Cinsert%20message%20here%3E">
                    Contact me on Twitter
                </a>
            </li>
            
            
            <li>Spotted a bug in the site?
                <a href="https://github.com/stuartmccoll/hugo-theme-refresh/issues/new">
                    Raise an issue on GitHub
                </a>
            </li>
            
            <li>Get notifications of new posts by
                <a href="https://stuartmccoll.github.io/index.xml">
                    subscribing to my RSS feed
                </a>
            </li>
            
            <li>This static site was generated using
                <a href="https://github.com/gohugoio/hugo/releases/tag/v0.75.1">
                    Hugo version 0.75.1
                </a>
            </li>
            
        </ul>
    </section>
    <hr />
    
    <section>
        <h3>Attribution</h3>
        <p xmlns:dct="http://purl.org/dc/terms/" xmlns:cc="http://creativecommons.org/ns#" class="license-text">
            
            This blog post <span rel="dct:title">(HTTP/S Redirects for AWS Route 53 Using S3)</span> is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>. Any code contained within
            this article may be subject to other licenses.
            
        </p>
    </section>
    
</footer>

            
        </div>
    </body>

</html>